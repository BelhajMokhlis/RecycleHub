<nav class="container mx-auto px-4 py-4 bg-white">
    <div class="flex justify-between items-center">
      <a [routerLink]="['/home']" class="text-2xl font-bold text-green-600">RecycleHub</a>
      


      <!-- Desktop menu -->
      <div class="hidden md:flex items-center space-x-4">
        <a [routerLink]="['/home']" *ngIf="currentUser?.role == 'particulier'" class="text-gray-600 hover:text-green-600">Requests</a>
        <a [routerLink]="['/points']" *ngIf="currentUser?.role == 'particulier'" class="text-gray-600 hover:text-green-600">Points</a>
        <a [routerLink]="['/home']" *ngIf="currentUser?.role == 'collecteur'" class="text-gray-600 hover:text-green-600">Collection</a>
        <div class="relative ml-3" *ngIf="currentUser">
          <div>
            <a [routerLink]="['/profil']" class="relative flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800">
              <span class="absolute -inset-1.5"></span>
              <span class="sr-only">Open user menu</span>
              <img class="h-8 w-8 rounded-full" 
                   [src]="currentUser.imageUrl || defaultImage" 
                   [alt]="'Profile picture of ' + currentUser.firstName">
                  </a>
                </div>
              </div>
              <button (click)="logout()"
                class="px-4 py-2 text-sm text-white bg-red-500 rounded hover:bg-red-600">
          Logout
        </button>
      </div>

      <!-- Mobile menu button -->
      <button class="md:hidden text-gray-600 hover:text-green-600" (click)="toggleMenu()">
        <img class="h-8 w-8 rounded-full" 
        [src]="currentUser?.imageUrl || defaultImage" 
        [alt]="'Profile picture of ' + currentUser?.firstName">
        {{currentUser?.imageUrl}}
      </button>
    </div>


    <!-- Mobile menu -->
    <div  [ngClass]="{'block': isMenuOpen, 'hidden': !isMenuOpen}" 
         class="md:hidden mt-4 space-y-2 ">
      <a [routerLink]="['/home']" 
         *ngIf="currentUser?.role == 'particulier'" 
         class="block py-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded px-2">
         Requests
      </a>
      <a [routerLink]="['/points']" 
         *ngIf="currentUser?.role == 'particulier'" 
         class="block py-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded px-2">
         Points
      </a>
      <a [routerLink]="['/home']" 
         *ngIf="currentUser?.role == 'collecteur'" 
         class="block py-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded px-2">
         Collection

      </a>
      <a [routerLink]="['/profil']" 
         class="block py-2 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded px-2">
         Profile
      </a>
      <button (click)="logout()" 
              class="block w-full text-left px-4 py-2 text-sm text-white bg-red-500 rounded hover:bg-red-600">
        Logout
      </button>
    </div>
</nav>